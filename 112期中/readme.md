# 遊戲內腳本實作 - 單軸穩定儀

聲明 : 此腳本是Spacee Engineers遊戲專用，也只能在遊戲內運行，全部自力研發並無修改他人專案  
API : https://github.com/malware-dev/MDK-SE/wiki/Sandbox.ModAPI.Ingame  
語言 : C#  
數學支援 : 九州大學趙約齊同學  

## 環境介紹

Space Engineers是一款宇宙尺度的開放世界沙盒遊戲，遊戲內提供各式各樣具功能的部件方塊供玩家自由組裝機體  
部件可以直接透過遊戲介面做簡單的手動和連鎖控制，也可以使用官方開放的API搭配C#來寫程式操控，  
用遊戲內的可程式方塊可以直接執行，並附帶編譯器可以debug  

## 開發動機

遊戲內的所有推進器方塊，包含在地表使用的懸浮引擎，都只提供一個向量的推力  
這也代表說一但懸浮引擎傾斜，就會出現橫向加速的情況  
此腳本的運作機制是 : 將懸浮引擎總成以轉軸連接在本體基座之外(先暫時稱為"翼")，再以程式自動控制轉軸使"翼"的底面永遠朝向地心  
最大程度地消除橫向加速度干擾，使本體在傾斜時仍然可以保持在原位  
由於"翼"沒有與駕駛座在同一基座上，遊戲機制上無法直接用鍵盤滑鼠操控，所以還要擷取輸入轉送給"翼"才能夠前後左右移動  
因為只有單軸控制，故實際只能達成一個軸向(X軸)的平衡，我將在期末作業中套用兩軸的版本  

## 程式說明

本程式除了提供自動平衡(AlignA)，也擷取駕駛座的移動輸入(VTI)轉送給"翼"的水平推進器  
至於平衡的概念，我在"翼"裡面安裝了一個遙控方塊，該方塊可以探測重力的向量(API提供的method)，再取得方塊本身底面的向量就能得到誤差角度，
然後以這個數字去控制轉軸回到正確角度  

![S1](https://github.com/st741963456/Space-Engineer-Scripts/assets/36965820/9bb10f6d-9359-4549-a275-3df7d2c4794d)

## 實際運作成果

### 執行中截圖
![image](https://github.com/ccccourse/sp111b/assets/36965820/05da3ff3-6f92-4aa2-b111-55d85fb5cf19)

### 影片
https://youtu.be/CSn6L2lvy0o
